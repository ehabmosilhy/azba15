<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- QWeb Reports -->
        <report
            id="account.action_report_payment_receipt"
            model="account.payment"
            string="طباعة"
            report_type="qweb-pdf"
            name="ejad_erp_account.report_payment_receipt1"
            file="ejad_erp_account.report_payment_receipt1"
            menu="True"
        />


        <report
            id="account.action_report_payment_receipt2"
            model="account.payment"
            string="طباعة سند قبض فرعي"
            report_type="qweb-pdf"
            name="ejad_erp_account.report_payment_receipt2"
            file="ejad_erp_account.report_payment_receipt2"
            menu="True"
        />

        <template id="report_invoice_document33" inherit_id="account.report_invoice_document">
            <xpath expr="//t[@t-call='web.external_layout']" position="before">
                <t t-call="ejad_erp_account.nauss_header"/>
                <t t-call="ejad_erp_account.nauss_footer"/>
            </xpath>
            <xpath expr="//div[@class='page']/p[3]" position="after">
                <br/>
                <t t-if="o.line_ids">
                    <div class="row">
                        <div class="col-12" style="text-align:center">
                            <b>
                                <u>
                                الجانب المدين
                                </u>
                            </b>
                        </div>
                    </div>
                    <table class="table table-striped table-condensed">
                        <thead>
                            <tr class="border-black">
                                <th colspan="2" class="text-center">
                                    <b>المبلغ</b>
                                </th>

                                <th rowspan="2" class="text-center">
                                    <b>اسم الحساب</b>
                                </th>

                                <th rowspan="2" class="text-center">
                                    <b>رقم الحساب</b>
                                </th>
                            </tr>
                        </thead>
                        <tbody class="invoice_tbody">
                            <tr>
                                <td class="text-center">هـ</td>
                                <td class="text-center">ريال</td>
                                <td></td>
                                <td></td>
                            </tr>
                            <t t-foreach="o.line_ids" t-as="llll">
                                <tr t-if="(llll.debit or 0.00) > 0.00">
                                    <td>
                                        <span t-esc="str(llll.debit or 0.00).split('.')[1]"/>
                                    </td>

                                    <td>
                                        <span t-esc="int(str(llll.debit or 0.00).split('.')[0])"/>
                                    </td>
                                    <td>
                                        <span t-esc="llll.account_id.name"/>
                                    </td>
                                    <td>
                                        <span t-esc="llll.account_id.code"/>
                                    </td>
                                </tr>
                            </t>
                            <tr class="border-black">
                                <td>
                                    <span t-esc="str(o.amount_total or 0.00).split('.')[1]"/>

                                </td>

                                <td>
                                    <span t-esc="str(o.amount_total or 0.00).split('.')[0]"/>
                                </td>
                                <td colspan="2">
                                    فقط
                                    <span t-esc="o.currency_id.amount_to_text(o.amount_total).replace('Riyal','ريال')"/>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="row">
                        <div class="col-12" style="text-align:center">
                            <b>
                                <u>
                                الجانب الدائن
                                </u>
                            </b>
                        </div>
                    </div>
                    <table class="table table-striped table-condensed">
                        <thead>
                            <tr class="border-black">
                                <th colspan="2" class="text-center">
                                    <b>المبلغ</b>
                                </th>

                                <th rowspan="2" class="text-center">
                                    <b>اسم الحساب</b>
                                </th>
                                <th rowspan="2" class="text-center">
                                    <b>رقم الحساب</b>
                                </th>
                            </tr>
                        </thead>
                        <tbody class="invoice_tbody">
                            <tr>
                                <td class="text-center">هـ</td>
                                <td class="text-center">ريال</td>
                                <td></td>
                                <td></td>
                            </tr>
                            <t t-foreach="o.line_ids" t-as="llll">
                                <tr t-if="(llll.credit or 0.00) > 0.00">
                                    <td>
                                        <span t-esc="str(llll.credit or 0.00).split('.')[1]"/>
                                    </td>

                                    <td>
                                        <span t-esc="int(str(llll.credit or 0.00).split('.')[0])"/>
                                    </td>
                                    <td>
                                        <span t-esc="llll.account_id.name"/>
                                    </td>
                                    <td>
                                        <span t-esc="llll.account_id.code"/>
                                    </td>
                                </tr>
                            </t>
                            <tr class="border-black">
                                <td>
                                    <span t-esc="str(o.amount_total or 0.00).split('.')[1]"/>

                                </td>

                                <td>
                                    <span t-esc="str(o.amount_total or 0.00).split('.')[0]"/>
                                </td>
                                <td colspan="2">
                                    فقط
                                    <span t-esc="o.currency_id.amount_to_text(o.amount_total).replace('Riyal','ريال')"/>
                                </td>

                            </tr>
                        </tbody>
                    </table>
                </t>
                <br/>
                <br/>
                <div class="row" style="direction:rtl;text-align:right">

                            <div class="col-3">
                                <strong>توقيع المدقق</strong>
                            </div>

                    <div class="col-7">
                                <strong>توقيع المحاسب</strong>
                    </div>
                </div>
            </xpath>
            <!--<xpath expr="//div[@class='page']/div[2]/div[2]" position="replace">-->
                 <!--<div class="col-2" t-if="o.date_invoice">-->
                    <!--<strong>تاريخ الاستحقاق</strong>-->
                    <!--<p t-field="o.date_invoice" t-field-options='{"format": "yyyy-MM-dd"}'/>-->
                     <!--<t t-set="student" t-value="any([l.partner_id1 for l in o.invoice_line_ids])"/>-->
                <!--</div>-->
            <!--</xpath>-->
            <!--<xpath expr="//div[@name='invoice_address']" position="replace">-->
                <!--<h3>-->
                    <!--<div name="invoice_address" class="col-5 col-offset-7">-->
                        <!--<address t-field="o.partner_id"-->
                            <!--t-options='{"widget": "contact", "fields": ["address", "name"], "no_marker": True}' />-->
                        <!--<div t-if="o.partner_id.vat" class="mt16"><t t-esc="o.company_id.country_id.vat_label or 'TIN'"/>: <span t-field="o.partner_id.vat"/></div>-->
                    <!--</div>-->
                <!--</h3>-->
            <!--</xpath>-->

            <!--<xpath expr="//table[@name='invoice_line_table']//tbody//tr[2]" position="replace">-->

            <!--</xpath>-->

            <xpath expr="//div[@class='page']" position="inside">
                <style>
                    table {
                    font-family: 'AlMohanadFont' !important;;
                    src: url('/ejad_erp_account/static/src/css/AL-MOHANAD_BOLD.TTF');
                    font-size:12pt !important;
                    margin-top:30px;
                    }
                    table th {
                    text-align : center;
                    }

                </style>
            </xpath>
            <xpath expr="//div[@id='total']/div[1]" position="attributes">
                <attribute name="class">col-6 pull-right</attribute>
            </xpath>
            <!--
            <xpath expr="///table[1]/thead/tr[1]/th[1]" position="before">
                 <th t-if="student"> الطالب</th>
            </xpath>
            <xpath expr="///table[1]/tbody/tr[2]/td[1]" position="before">
                <td t-if="student"></td>
            </xpath>-->
        </template>

    </data>
</odoo>
