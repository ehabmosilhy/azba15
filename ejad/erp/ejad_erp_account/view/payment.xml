<?xml version="1.0" encoding="utf-8"?>
<odoo>
<!--            Todo migration 15-->

<!--    <record id="view_account_payment_tree_inherit" model="ir.ui.view">-->
<!--        <field name="name">account.payment.form.inheritr</field>-->
<!--        <field name="model">account.payment</field>-->
<!--        <field name="inherit_id" ref="account.view_account_payment_tree"/>-->
<!--        <field name="arch" type="xml">-->
<!--            <xpath expr="//field[@name='payment_method_id']" position="attributes">-->
<!--                <attribute name="invisible">1</attribute>-->
<!--            </xpath>-->
<!--        </field>-->
<!--    </record>-->

<!--    <record id="view_account_supplier_payment_tree_inherit" model="ir.ui.view">-->
<!--        <field name="name">account.payment.form.inheritr</field>-->
<!--        <field name="model">account.payment</field>-->
<!--        <field name="inherit_id" ref="account.view_account_supplier_payment_tree"/>-->
<!--        <field name="arch" type="xml">-->
<!--            <xpath expr="//field[@name='payment_method_id']" position="attributes">-->
<!--                <attribute name="invisible">1</attribute>-->
<!--            </xpath>-->
<!--            <xpath expr="//field[@name='payment_method_id']" position="after">-->
<!--                <field name="payment_type2"/>-->
<!--            </xpath>-->
<!--        </field>-->
<!--    </record>-->

    <record id="account_payment_form_inherite" model="ir.ui.view">
        <field name="name">account.payment.form.inheritr</field>
        <field name="model">account.payment</field>
        <field name="inherit_id" ref="account.view_account_payment_form"/>
        <field name="arch" type="xml">
            <xpath expr="/form/header" position="replace">
                <header>
                    <field name="require_general_director_approve" invisible="1"/>
                    <button name="action_submit" type="object" string="Progress" class="oe_highlight"
                            attrs="{'invisible': ['|',('state', '!=', 'draft'),('payment_type', '!=', 'outbound')]}"/>
                    <button name="action_accounting_approve" type="object" string="Approve" states="accounting"
                            class="oe_highlight" groups="ejad_erp_account.group_accounting_employee"
                            attrs="{'invisible': ['|',('state', '!=', 'accounting'),('payment_type', '!=', 'outbound')]}"/>
                    <button name="post_outbound" type="object" string="confirm" class="oe_highlight"
                            groups="ejad_erp_account.group_verfication"
                            attrs="{'invisible': ['|',('state', '!=', 'verfication'),('payment_type', '!=', 'outbound')]}"/>
                    <button name="post" type="object" string="Confirm" class="oe_highlight"
                            groups="ejad_erp_account.group_customer_payment_confirm"
                            attrs="{'invisible': ['|',('state', '!=', 'draft'),('payment_type', '!=', 'inbound')]}"/>
                    <button name="post" type="object" string="Confirm" class="oe_highlight"
                            groups="ejad_erp_account.group_payment_transfer_confirm"
                            attrs="{'invisible': ['|',('state', '!=', 'draft'),('payment_type', '!=', 'transfer')]}"/>

                    <button name="action_department_approve" type="object" string="Approve" states="account_department"
                            class="oe_highlight" groups="ejad_erp_account.group_department_manager"
                            attrs="{'invisible': ['|',('state', '!=', 'account_department'),('payment_type', '!=', 'outbound')]}"/>
                    <button name="action_finance_verfifcation_approve" type="object" string="Approve"
                            states="finance_verfifcation" class="oe_highlight"
                            groups="ejad_erp_account.group_finance_monitor"
                            attrs="{'invisible': ['|',('state', '!=', 'finance_verfifcation'),('payment_type', '!=', 'outbound')]}"/>
                    <button name="action_manager_approve" type="object" string="Approve" states="manager"
                            groups="ejad_erp_account.group_university_manager"
                            class="oe_highlight"/>
                    <button name="button_general_director_approve"
                            attrs="{'invisible': ['|',
                                ('require_general_director_approve', '=', False),
                                ('state', '!=', 'general_director_approve')]}"

                            string="موافقة الرئيس" type="object"
                            class="oe_highlight" groups="ejad_erp_base.group_general_director"/>

                    <button name="action_delivered" type="object" string="إكمال التسليم" states="pending_delivery"
                            groups="ejad_erp_account.group_payment_expense_delivery"
                            class="oe_highlight"/>


                    <button name="%(action_payment_reset_wizard)d" type="action" string="Reset to Draft"
                            groups="ejad_erp_account.group_finance_monitor"
                            context="{'default_journal_id': journal_id}"
                            attrs="{'invisible': ['|',('state', 'in', ['cancelled','draft']),('payment_type', '!=', 'outbound')]}"/>
                    <button name="%(action_reverse_entry_wizard)d" type="action" string="Cancel"
                            groups="ejad_erp_account.group_finance_monitor"
                            context="{'default_journal_id': journal_id}"
                            attrs="{'invisible': ['|',('state', '=', 'cancelled'),('payment_type', '!=', 'outbound')]}"/>

                    <field name="state" widget="statusbar" statusbar_visible="draft,posted,reconciled"/>


                </header>

            </xpath>
            <xpath expr="//div[2]" position="replace">
                <div class="oe_title">
                    <h1>
                        <field name="name"/>
                    </h1>
                </div>
            </xpath>
            <xpath expr="//field[@name='journal_id']" position="after">
                <field name="create_uid" readonly="1" options="{'no_create': True,'no_open':True}"/>

            </xpath>
            <xpath expr="//field[@name='journal_id']" position="after">
                <field name="note" attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                <field name="bank_ref"/>
                <field name="bank_check_no"/>
                <field name="reversed_move" attrs="{'invisible': [('reversed_move', '=', False)]}"/>
                <field name="report" attrs="{'invisible': [('payment_type', '!=', 'transfer')],
                                              'required': [('payment_type', '=', 'transfer')]}"/>
            </xpath>
            <xpath expr="//field[@name='payment_type']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='payment_type']" position="after">
                <field name="payment_type2" attrs="{'invisible':[('payment_type','!=','outbound')]}" widget="radio"/>
            </xpath>
            <xpath expr="//field[@name='payment_type']" position="after">
                <field name="payment_type_customer" attrs="{'invisible':[('payment_type','!=','inbound')]}" widget="radio"/>
            </xpath>
            <xpath expr="//group[last()]" position="after">
                <group>
                    <group>
                        <field name="cancel_reasons" attrs="{'invisible': [('cancel_reasons', '=', False)]}"/>
                    </group>
                </group>
            </xpath>

        </field>
    </record>
    <!--<record id="account_payment_from_invoice_inherit" model="ir.ui.view">-->
        <!--<field name="name">account.payment.form.inherit</field>-->
        <!--<field name="model">account.register.payments</field>-->
        <!--<field name="inherit_id" ref="account.view_account_payment_from_invoices"/>-->
        <!--<field name="arch" type="xml">-->
            <!--&lt;!&ndash;<xpath expr="//field[@name='journal_id']" position="after">&ndash;&gt;-->
                <!--&lt;!&ndash;<field name="bank_ref"/>&ndash;&gt;-->
            <!--&lt;!&ndash;</xpath>&ndash;&gt;-->
            <!--<xpath expr="//field[@name='communication']" position="after">-->
                <!--<field name="note" required="1"/>-->
            <!--</xpath>-->

        <!--</field>-->
    <!--</record>-->

<!--    <record id="account_payment_invoice_form_inherit" model="ir.ui.view">-->
<!--        <field name="name">account.payment.form.inherit</field>-->
<!--        <field name="model">account.payment</field>-->
<!--        <field name="inherit_id" ref="account.view_account_payment_invoice_form"/>-->
<!--        <field name="arch" type="xml">-->
<!--            <xpath expr="//field[@name='journal_id']" position="after">-->
<!--                <field name="bank_ref"/>-->
<!--            </xpath>-->
<!--            <xpath expr="//field[@name='journal_id']" position="after">-->
<!--                <field name="note"/>-->
<!--                <field name="payment_type_customer"   widget="radio" attrs="{'invisible':[('payment_type','!=','inbound')]}"/>-->
<!--            </xpath>-->

<!--        </field>-->
<!--    </record>-->

    <record id="account_payment_invoice_search_inherit" model="ir.ui.view">
        <field name="name">account.payment.search.inherit</field>
        <field name="model">account.payment</field>
        <field name="inherit_id" ref="account.view_account_payment_search"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='journal_id']" position="after">
                <field name="bank_ref"/>
                <field name="bank_check_no"/>
                <field name="payment_type2"/>
                <field name="note"/>

            </xpath>

        </field>
    </record>
</odoo>

