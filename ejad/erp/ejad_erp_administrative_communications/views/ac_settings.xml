<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="action_ac_operation_external" model="ir.actions.act_window">
        <field name="name">الجهات الخارجية</field>
        <field name="res_model">res.partner</field>
        <field name="context">{'default_is_ac_eligible': True}</field>
        <field name="view_mode">kanban,tree,form</field>
        <field name="domain">[('is_ac_eligible','=',True)]</field>
    </record>

    <record id="action_ac_operation_internal" model="ir.actions.act_window">
        <field name="name">الإدارات</field>
        <field name="res_model">hr.department</field>

        <field name="view_mode">tree,form</field>
        <field name="domain">[('is_ac_eligible','=',True)]</field>
    </record>

    <menuitem id="ac_operation_direction_menu" name="الجهات" parent="ac_menu" sequence="7"/>
    <menuitem id="ac_operation_external_direction_menu" name="الجهات الخارجية"
              parent="ac_operation_direction_menu" action="action_ac_operation_external"/>
    <menuitem id="ac_operation_internal_direction_menu" name="الجهات الداخلية - الإدارات"
              parent="ac_operation_direction_menu" action="action_ac_operation_internal"/>

    <record id="ac_place_save_operation_form" model="ir.ui.view">
        <field name="name">ac.place.save.operation.form</field>
        <field name="model">ac.place.save.operation</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <field name="id" invisible="1"/>
                        <field name="name"/>
                        <field name="code" attrs="{'readonly':[('id','!=',False)]}"/>
                        <field name="number_operation" invisible="1"/>
                    </group>
                    <notebook attrs="{'invisible':[('number_operation','=',0)]}" >
                        <page string="المعاملات المحفوظة">
                            <field name="operation_ids" >
                                <tree>
                                    <field name="name"/>
                                    <field name="subject"/>
                                    <field name="date"/>
                                    <field name="external_partner_ids" widget="many2many_tags"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <record id="ac_place_save_operation_tree" model="ir.ui.view">
        <field name="name">ac.place.save.operation.tree</field>
        <field name="model">ac.place.save.operation</field>
        <field name="arch" type="xml">
            <tree>
                <field name="id" invisible="1"/>
                <field name="name"/>
                <field name="code" attrs="{'readonly':[('id','!=',False)]}"/>
                <field name="number_operation"/>
            </tree>
        </field>
    </record>

    <record id="action_ac_place_save" model="ir.actions.act_window">
        <field name="name">أماكن الحفظ</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">ac.place.save.operation</field>

        <field name="view_mode">tree,form</field>
    </record>

    <menuitem id="ac_settings" name="الاعدادات" parent="ac_menu"
              groups="ejad_erp_administrative_communications.group_operation_settings" sequence="10"/>

    <menuitem id="ac_settings_place_save" name="أماكن الحفظ" parent="ac_settings"
              action="action_ac_place_save" sequence="5"/>

    <record id="admin_com_transfer_guidance_tree" model="ir.ui.view">
        <field name="name">ac.transfer.guidance.tree</field>
        <field name="model">ac.transfer.guidance</field>
        <field name="arch" type="xml">
            <tree editable="top">
                <field name="id" invisible="1"/>
                <field name="name"/>
                <field name="code" attrs="{'readonly':[('id','!=',False)]}"/>
                <field name="active"/>
            </tree>
        </field>
    </record>

    <record id="action_ac_transfer_guidance" model="ir.actions.act_window">
        <field name="name">أنواع التوجيه</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">ac.transfer.guidance</field>

        <field name="view_mode">tree,form</field>
    </record>

    <menuitem id="ac_settings_transfer_guidance" name="أنواع التوجيه" parent="ac_settings"
              action="action_ac_transfer_guidance" sequence="4"/>

    <record id="admin_com_operation_type_tree" model="ir.ui.view">
        <field name="name">ac.operation.nature.tree</field>
        <field name="model">ac.operation.nature</field>
        <field name="arch" type="xml">
            <tree editable="top">
                <field name="id" invisible="1"/>
                <field name="name"/>
                <field name="code" attrs="{'readonly':[('id','!=',False)]}"/>
                <field name="active"/>
            </tree>
        </field>
    </record>

    <record id="action_ac_operation_type" model="ir.actions.act_window">
        <field name="name">أنواع المعاملات</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">ac.operation.nature</field>

        <field name="view_mode">tree,form</field>
    </record>

    <menuitem id="ac_settings_type_operation" name="أنواع المعاملات" parent="ac_settings"
              action="action_ac_operation_type" sequence="3"/>


    <record id="admin_com_operation_receive_method_tree" model="ir.ui.view">
        <field name="name">ac.operation.receive.method.tree</field>
        <field name="model">ac.operation.receive.method</field>
        <field name="arch" type="xml">
            <tree editable="top">
                <field name="id" invisible="1"/>
                <field name="name"/>
                <field name="code" attrs="{'readonly':[('id','!=',False)]}"/>
                <field name="active"/>
            </tree>
        </field>
    </record>

    <record id="action_ac_operation_receive_method" model="ir.actions.act_window">
        <field name="name">طرق الاستلام</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">ac.operation.receive.method</field>

        <field name="view_mode">tree,form</field>
    </record>

    <record id="action_ac_operation_settings" model="ir.actions.act_window">
        <field name="name">Settings</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">res.config.settings</field>
        <field name="view_mode">form</field>
        <field name="target">inline</field>
        <field name="context">{'module' : 'ejad_erp_administrative_communications'}</field>
    </record>

    <menuitem id="ac_settings_receive_method" name="طرق الاستلام" parent="ac_settings"
              action="action_ac_operation_receive_method" sequence="2"/>

    <menuitem id="ac_general_settings" name="الاعدادات العامة" parent="ac_settings"
              action="action_ac_operation_settings" sequence="1"/>



    <record id="view_ac_operation_filter" model="ir.ui.view">
        <field name="name">ac.operation.select</field>
        <field name="model">ac.operation</field>
        <field name="arch" type="xml">
            <search string="Search Operation">
                <field name="name"/>
                <field name="subject" />
                <field name="details" />
                <field name="department_sequence"/>
                <field name="state" />
                <field name="external_partner_ids" widget="many2many_tags" />
                <field name="nature" />
                <field name="receive_method" />
                <field name="linked_id"/>
                <field name="deadline_date"/>
                <!--<field name="country_id" />-->
                <field name="date"/>
                <field name="incoming_date"/>
                <field name="incoming_no"/>
                <field name="priority"/>
                <field name="security"/>
                <field name="dest" string="الجهة الطالبة للتصدير/ جهة الإحالة"/>
                <field name="auditor" />
                <field name="employee_id" />
                <field name="partner_id" />
                <field name="department_ids" />
                <field name="subject_date" />
                <field name="directing" />
                <field name="directing_date" />
                <field name="outbound_no" />
                <field name="outbound_date" />
                <field name="deadline_state" />
                <separator/>
                    <filter name="my_documents_filter"
                        string="المعاملات المفضلة"
                        domain="[('user_ids','in',[uid])]"/>
                <separator/>
                <group expand="0" string="Group By">
                    <filter name="external_partner_ids" string="الجهة المرسلة" context="{'group_by':'external_partner_ids'}"/>
                    <filter name="department_id" string="الجهة الداخلية المعنية" context="{'group_by':'department_id'}"/>
                </group>
           </search>
        </field>
    </record>

    <record id="ac_operation_contact_filter" model="ir.ui.view">
        <field name="name">ac.operation.contact.select</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_res_partner_filter"/>
        <field name="arch" type="xml">
            <xpath expr="//filter[@name='supplier']" position='after'>
                <filter name="is_ac_eligible" string="جهات الإتصالات الإدارية" domain="[('is_ac_eligible','=',True)]"/>
            </xpath>
        </field>
    </record>


    <!--  Inherited views ..  -->

    <record model="ir.ui.view" id="hr_department_form_inherit_is_eligible">
        <field name="name">hr.department.form.inherit.eligible</field>
        <field name="model">hr.department</field>
        <field name="inherit_id" ref="hr.view_department_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='company_id']" position='after'>
                <field name="is_ac_eligible"/>
            </xpath>
        </field>
    </record>

    <record model="ir.ui.view" id="res_partner_form_inherit_is_eligible">
        <field name="name">res.partner.form.inherit.eligible</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form"/>
        <field name="arch" type="xml">
            <xpath expr="//notebook" position="inside">
                <page string="الاتصالات الادارية" groups="ejad_erp_administrative_communications.group_operation_settings">
                    <br/>
                    <separator string="الاتصالات الإدارية"/>
                    <group>
                        <field name="is_ac_eligible"/>
                    </group>
                </page>

            </xpath>
        </field>
    </record>
</odoo>