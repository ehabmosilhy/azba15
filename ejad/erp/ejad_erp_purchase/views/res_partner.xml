<?xml version="1.0" encoding="utf-8"?>

<odoo>
    <record id="view_users_form_inherit" model="ir.ui.view">
        <field name="name">res.users.inherit</field>
        <field name="model">res.users</field>
        <field name="inherit_id" ref="base.view_users_form"/>
        <field name="arch" type="xml">
            <field name="tz" position="after">
                <field name="is_user_purchase_representative"/>
            </field>
        </field>
    </record>

    <record model="ir.ui.view" id="res_partner_form_view_inherited">
        <field name="name">res.partner.inherited</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form"/>
        <field name="arch" type="xml">
            <xpath expr="//sheet" position="before">
                <header>
                    <button name="send_mail_expired_files" string="أرسل بريد" type="object" class="oe_highlight" attrs="{'invisible': [('expired_files','=',0)]}"/>
                    <field name="supplier_rank" invisible="1"/>
                </header>
            </xpath>
            <xpath expr="//page[@name='sales_purchases']" position="attributes">
                <attribute name="attrs">
                    {'invisible': [('supplier_rank','>', 0)]}
                </attribute>
            </xpath>

            <xpath expr="//notebook" position="inside">
                <page string="المشتريات" attrs="{'invisible': [('supplier_rank','>', 0)]}">
                    <group>
                        <group string="متفرقات">
                            <field name="ref"/>
                            <field name="company_id" groups="base.group_multi_company" options="{'no_create': True}"/>
                            <field name="industry_id" attrs="{'invisible': [('is_company', '=', False)]}" options="{'no_create': True}"/>
                        </group>
                        <group string="المدفوعات" name="banks">
                            <field name="currency_id" invisible="1"/>
                            <div>
                                <button type="action" class="btn-link"
                                    name="%(base.action_res_partner_bank_account_form)d"
                                    context="{'search_default_partner_id': active_id, 'default_partner_id': active_id}">
                                    <field string="حساب / حسابات بنكية" name="bank_account_count" widget="statinfo"/>
                                </button>
                            </div>
                        </group>
                    </group>
                </page>
            </xpath>

            <xpath expr="//notebook[last()]" position="inside">
            <page string="الوثائق الرسمية" attrs="{'invisible': [('supplier_rank','>', 0)]}">
                <group>
                    <group string="السجل التجاري">
                        <field name="commercial_reg" />
                        <field name="comm_reg_expiry" />
                        <field name="commercial_filename" invisible="1"/>
                        <field name="commercial_attachment_id" widget="binary" height="64" filename="commercial_filename"/>

                    </group>
                    <group string="التسجيل في الغرفة التجارية">
                        <field name="chamber_reg" />
                        <field name="chamber_reg_expiry" />
                        <field name="chamber_filename" invisible="1"/>
                        <field name="chamber_attachment_id" widget="binary" height="64" filename="chamber_filename"/>

                    </group>
                </group>
                <group>
                    <group string="شهادة الزكاة و الدخل">
                        <field name="zakat_reg" />
                        <field name="zakat_reg_expiry" />
                        <field name="zakat_filename" invisible="1"/>
                        <field name="zakat_attachment_id" widget="binary" height="64" filename="zakat_filename"/>
                    </group>
                    <group string="شهادة التامينات الاجتماعية">
                        <field name="social_insurance_reg" />
                        <field name="social_insurance_reg_expiry" />
                        <field name="social_filename" invisible="1"/>
                        <field name="social_insurance_attachment_id" widget="binary" height="64" filename="social_filename"/>
                    </group>
                </group>
                <group>
                    <group string="شهادة السعودة">
                        <field name="saudi_reg" />
                        <field name="saudi_reg_expiry" />
                        <field name="saudi_filename" invisible="1"/>
                        <field name="saudi_attachment_id" widget="binary" height="64" filename="saudi_filename"/>
                    </group>
                </group>
            </page>
          </xpath>
            <xpath expr="//field[@name='name']/.." position="before">
                <div class="label label-danger pull-left" attrs="{'invisible': [('expired_files','=',0)]}">
                    <span><field name="expired_files"/></span>
                    <span> وثيقة منتهية</span>
                </div>
            </xpath>
            <xpath expr="//page[@name='internal_notes']/field[@name='comment']" position="before">
                <label for="comment"/>
                <!--<separator string="Test"/>-->
                <!--<group>-->
                    <!--<field name="comment" />-->
                <!--</group>-->
            </xpath>
            <xpath expr="//page[@name='internal_notes']/field[@name='comment']" position="attributes">
                <attribute name="placeholder">أدخل هنا الملاحظات...</attribute>
            </xpath>
        </field>
    </record>

    <record model="ir.ui.view" id="res_partner_form_view_inherited_invoicing">
        <field name="name">res.partner.inherited.invoicing</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="account.view_partner_property_form"/>
        <field name="arch" type="xml">
            <xpath expr="//group[@name='sale']" position="attributes">
                <attribute name="attrs">
                    {'invisible': [('supplier_rank','>', 0)]}
                </attribute>
            </xpath>
        </field>
    </record>
</odoo>