<?xml version="1.0" encoding="utf-8"?>
<odoo>

<!--     <template id="ejad_erp_auth_oauth_js" name="add  validation js" inherit_id="web.assets_frontend">-->
<!--        <xpath expr="." position="inside">-->
<!--            <script type="text/javascript" src="/ejad_erp_auth_oauth/static/src/js/ejad_auth_view.js"></script>-->
<!--        </xpath>-->
<!--    </template>-->
    <template id="totp_template" name="OTP Authentication">
        <t t-call="web.login_layout">
            <t t-set="disable_footer">1</t>
            <style>
                @font-face
                {
                    font-family: "Bukra-Regular";
                    src: url("/ejad_erp_auth_oauth/static/src/fonts/Bukra/Bukra-Regular.woff2");
                }
                @font-face
                {
                    font-family: "Bukra-Bold";
                    src: url("/ejad_erp_auth_oauth/static/src/fonts/Bukra/Bukra-Bold.woff2");
                }
                *:not(.fa):not(.fas):not(.far):not(.fab):not(.fad):not(.fal)
                {
                    font-family: "Lato", "Bukra-Regular", sans-serif !important;
                    -webkit-font-smoothing: antialiased;
                    -moz-osx-font-smoothing: grayscale;
                }
                .fa
                {
                    font-weight: 400;
                }
                i.fa-clock-o:before
                {
                    content: "\f843";
                }
                i.fa-comments:before
                {
                    content: "\f4a6";
                }
                i.fa-circle-o:before
                {
                    content: "\f111";
                }
                .fa-star-o:before
                {
                    content: "\f005";
                }
                .fa-file-text-o:before
                {
                    content: "\f15c";
                }
                .fa-square-o:before
                {
                    content: "\f0c8";
                }
                .fa-circle:before,
                .fa-heart:before
                {
                    font-weight: bold;
                }
                .fa-building-o:before
                {
                    content: "\f1ad";
                }
                .fa-calendar:before
                {
                    content: "\f073";
                }
                .fa-circle-thin:before
                {
                    content: "\f111";
                }
                .fa-trash-o:before
                {
                    content: "\f1f8";
                }
                .fa-question-circle-o:before
                {
                    content: "\f29c";
                }
                
                html,
                body,
                body.o_connected_user
                {
                    height: auto;
                    padding: 0 !important
                }
                header, nav, footer
                {
                    display: none
                }
                .oe_website_login_container
                {
                    position: absolute;
                    top: 0px;
                    left: 0;
                    background: #fff;
                    width: 100%;
                    height: 100%;
                    z-index: 999999;
                    min-height: 100vh;
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    justify-content: center;
                    background: url("/ejad_erp_auth_oauth/static/src/img/01.jpg") center center no-repeat fixed;
                    background-size: cover;
                    position: relative;
                }
                .oe_website_login_container:before
                {
                    content: "";
                    background: rgba(23, 29, 54, .8);
                    width: 100%;
                    height: 100%;
                    position: absolute;
                    left: 0;
                    top: 0;
                }
                .oe_website_login_container .oe_login_form
                {
                    background: url("/ejad_erp_auth_oauth/static/src/img/wrapper-background.png") center bottom no-repeat;
                    background-color: #fff;
                    background-size: contain;
                    min-width: 450px;
                    padding: 40px 30px;
                    border-radius: 12px !important;
                    box-shadow: 0 4px 24px rgba(0, 0, 0, .16) !important;
                }
                .oe_website_login_container .oe_login_form .card-title
                {
                    font-size: 24px;
                    font-weight: bold;
                    margin-bottom: 40px;
                    text-align: center;
                }
                .oe_website_login_container .oe_login_form .form-group
                {
                    margin-bottom: 30px;
                }
                .oe_website_login_container .oe_login_form label
                {
                    font-size: 18px;
                    font-weight: normal;
                    margin-bottom: 10px;
                }
                .oe_website_login_container .oe_login_form input,
                .oe_website_login_container .oe_login_form select
                {
                    background: #fff;
                    color: #9D9D9D !important;
                    font-size: 14px;
                    min-height: 50px;
                    border: 1px solid #E9E9E9;
                    border-radius: 8px;
                    box-shadow: none !important;
                }
                .oe_website_login_container .oe_login_form input:focus,
                .oe_website_login_container .oe_login_form select:focus
                {
                    border-color: #00937F;
                    outline: 0 none;
                }
                .oe_website_login_container .oe_login_form button.btn-primary
                {
                    margin-bottom: 25px;
                    box-shadow: 0 24px 75px rgba(0, 147, 127, .2);
                    transition: all .3s ease-in-out;
                }
                .oe_website_login_container .oe_login_form button.btn-primary:hover
                {
                    background-color: #026355;
                    color: #fff;
                }
                .oe_website_login_container .oe_login_form button.btn-danger
                {
                    width: 40%;
                    margin: 20px auto 0;
                }
                @media(max-width: 551px)
                {
                    .oe_website_login_container .oe_login_form
                    {
                        min-width: 90%
                    }
                }
            </style>

            <div class="oe_login_form">
                <h5 class="card-title">Two-factor Authentication</h5>
                <form id="oe_auth_form" class="oe_auth_form" method="POST" action="" >
                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                    <input type="hidden" name="redirect" t-att-value="redirect"/>
                    <input type="hidden" id="otpTimeLimit" name="otpTimeLimit" t-att-value="otpTimeLimit"/>
                    <input type="hidden" id="userid" name="userid" t-att-value="userid"/>
                    <div class="form-group field-otp-option">
                        <label for="totp_token">Authentication Code (6 digits)</label>
                        <input type="number" id="totp_token" name="totp_token" class="form-control mb-2"
                               autofocus="autofocus" required="required"/>
                    </div>
                    <p id="otplogincounter" style="color: red;text-align: right;padding-right: 0; padding-bottom: 15px;"/>
                    <p class="alert alert-danger" t-if="error" role="alert">
                        <t t-esc="error"/>
                    </p>
                    <div t-attf-class="clearfix oe_login_buttons text-center mb-1">
                        <button type="button" id="nextBtn" class="btn btn-primary btn-block">Verify</button>
                    </div>

                </form>
                <form method="POST" action="/web/session/logout" class="form-inline">
                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                    <button type="submit" class="btn btn-danger btn-block">Cancel</button>
                </form>
            </div>
        </t>
    </template>
</odoo>
